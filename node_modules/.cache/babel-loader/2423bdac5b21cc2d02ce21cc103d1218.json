{"ast":null,"code":"import _toConsumableArray from\"/Users/krzyzostoniak/Documents/grocery-delivery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{actions}from'./actions';var saveToLocalStorage=function saveToLocalStorage(object){localStorage.setItem(\"items\",JSON.stringify(object));};var initialState={items:JSON.parse(localStorage.getItem(\"items\"))!==null?JSON.parse(localStorage.getItem(\"items\")):[]};export default function onlineStoreApp(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actions.ADD_TO_CART:return Object.assign({},state,{items:[].concat(_toConsumableArray(state.items),[action.payload])});case actions.UPDATE_CART:console.log(\"item : \".concat(action.payload.id));return Object.assign({},state,{items:state.items.map(function(item){return item.id===action.payload.id?Object.assign({},item,{quantity:action.payload.quantity}):item;})});case actions.REMOVE_FROM_CART:console.log(state.items);return Object.assign({},state,{items:state.items.filter(function(item){return item.id!=action.payload;})});case actions.SAVE_CART:saveToLocalStorage(action.payload.items);return state;case actions.RESET_CART:saveToLocalStorage([]);return Object.assign({},state,{items:[]});default:return state;}}","map":{"version":3,"sources":["/Users/krzyzostoniak/Documents/grocery-delivery/src/app/lib/reducers.js"],"names":["actions","saveToLocalStorage","object","localStorage","setItem","JSON","stringify","initialState","items","parse","getItem","onlineStoreApp","state","action","type","ADD_TO_CART","Object","assign","payload","UPDATE_CART","console","log","id","map","item","quantity","REMOVE_FROM_CART","filter","SAVE_CART","RESET_CART"],"mappings":"8KAAA,OAASA,OAAT,KAAwB,WAAxB,CAGA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,MAAM,CAAI,CACjCC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAA9B,EACH,CAFD,CAGA,GAAMK,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAGH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,OAArB,CAAX,IAA8C,IAA9C,CAAqDL,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,OAArB,CAAX,CAArD,CAAiG,EADxF,CAArB,CAIA,cAAe,SAASC,CAAAA,cAAT,EAAsD,IAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,2CACjE,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKd,CAAAA,OAAO,CAACe,WAAb,CAA2B,MAAOC,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,KAAlB,CAAyB,CAAEJ,KAAK,8BAAOI,KAAK,CAACJ,KAAb,GAAoBK,MAAM,CAACK,OAA3B,EAAP,CAAzB,CAAP,CAC3B,IAAKlB,CAAAA,OAAO,CAACmB,WAAb,CACAC,OAAO,CAACC,GAAR,kBAAsBR,MAAM,CAACK,OAAP,CAAeI,EAArC,GACA,MAAON,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,KAAlB,CAAyB,CAC5BJ,KAAK,CAAGI,KAAK,CAACJ,KAAN,CAAYe,GAAZ,CAAgB,SAAAC,IAAI,CAAI,CAC5B,MAAOA,CAAAA,IAAI,CAACF,EAAL,GAAYT,MAAM,CAACK,OAAP,CAAeI,EAA3B,CACPN,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBO,IAAlB,CAAwB,CACpBC,QAAQ,CAAEZ,MAAM,CAACK,OAAP,CAAeO,QADL,CAAxB,CADO,CAGFD,IAHL,CAIH,CALO,CADoB,CAAzB,CAAP,CAQA,IAAKxB,CAAAA,OAAO,CAAC0B,gBAAb,CACAN,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACJ,KAAlB,EACA,MAAOQ,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,KAAlB,CAA0B,CAC7BJ,KAAK,CAAGI,KAAK,CAACJ,KAAN,CAAYmB,MAAZ,CAAmB,SAAAH,IAAI,CAAI,CAC/B,MAAOA,CAAAA,IAAI,CAACF,EAAL,EAAWT,MAAM,CAACK,OAAzB,CACH,CAFO,CADqB,CAA1B,CAAP,CAKA,IAAKlB,CAAAA,OAAO,CAAC4B,SAAb,CACA3B,kBAAkB,CAACY,MAAM,CAACK,OAAP,CAAeV,KAAhB,CAAlB,CACA,MAAOI,CAAAA,KAAP,CACA,IAAKZ,CAAAA,OAAO,CAAC6B,UAAb,CACA5B,kBAAkB,CAAC,EAAD,CAAlB,CACA,MAAOe,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,KAAlB,CAA0B,CAC/BJ,KAAK,CAAE,EADwB,CAA1B,CAAP,CAGE,QAAS,MAAOI,CAAAA,KAAP,CA3Bf,CA+BH","sourcesContent":["import { actions } from './actions'\n\n\nconst saveToLocalStorage = object => {\n    localStorage.setItem(\"items\", JSON.stringify(object))\n}\nconst initialState = {\n    items : JSON.parse(localStorage.getItem(\"items\")) !== null ? JSON.parse(localStorage.getItem(\"items\")) : []\n}\n\nexport default function onlineStoreApp(state = initialState, action) {\n    switch(action.type) {\n        case actions.ADD_TO_CART : return Object.assign({}, state, { items : [...state.items, action.payload]});\n        case actions.UPDATE_CART : \n        console.log(`item : ${action.payload.id}`)\n        return Object.assign({}, state, {\n            items : state.items.map(item => {\n                return item.id === action.payload.id ?\n                Object.assign({}, item, {\n                    quantity: action.payload.quantity\n                }) : item;\n            }) \n        })\n        case actions.REMOVE_FROM_CART : \n        console.log(state.items)\n        return Object.assign({}, state,  {\n            items : state.items.filter(item => {\n                return item.id != action.payload\n            })\n        })\n        case actions.SAVE_CART: \n        saveToLocalStorage(action.payload.items)\n        return state\n        case actions.RESET_CART: \n        saveToLocalStorage([])\n        return Object.assign({}, state,  {\n          items :[]\n          })\n          default: return state;\n      \n    }\n    \n}"]},"metadata":{},"sourceType":"module"}