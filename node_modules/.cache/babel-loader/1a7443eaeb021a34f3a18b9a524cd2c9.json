{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/krzyzostoniak/Documents/grocery-delivery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from\"react-router-dom\";import\"../../styles/App.css\";import{updateCart,removeFromCart}from'../../lib/actions';var Row=function Row(props){var _props$item=props.item,id=_props$item.id,quantity=_props$item.quantity,details=_props$item.details;var item=details;var _useState=useState(quantity),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var update=function update(action){if(action==='increment'){setQty(qty+1);}if(action==='decrement'){setQty(qty-1);}};var remove=function remove(id){dispatch(removeFromCart(id));};useEffect(function(){dispatch(updateCart(id,qty));},[qty]);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{width:\"70\",height:\"70\",src:process.env.PUBLIC_URL+\"/assets/\".concat(item.category,\"/\").concat(item.image),alt:item.name})}),/*#__PURE__*/_jsx(\"td\",{children:item.ref}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20AC\",item.price]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic example\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){if(qty>1){update('decrement');}},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-light\",children:qty}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){update('increment');},children:\"+\"})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20AC\",(quantity*item.price).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger remove\",onClick:function onClick(){return remove(id);},children:\"X\"})})]});};var Table=function Table(_ref){var items=_ref.items;return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"200\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{width:\"80\",children:\"Reference\"}),/*#__PURE__*/_jsx(\"th\",{width:\"150\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{width:\"150\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{width:\"200\",children:\"Total\"})]}),items.map(function(item){return/*#__PURE__*/_jsx(Row,{item:item});})]});};export var CartPage=function CartPage(){var items=useSelector(function(state){return state.items;});var _useState3=useState(0.00),_useState4=_slicedToArray(_useState3,2),subTotal=_useState4[0],setSubTotal=_useState4[1];var _useState5=useState(0.00),_useState6=_slicedToArray(_useState5,2),total=_useState6[0],setTotal=_useState6[1];var shipping=10.00;useEffect(function(){var totals=items.map(function(item){return item.quantity*item.details.price;});setSubTotal(totals.reduce(function(item1,item2){return item1+item2;},0));setTotal(subTotal+shipping);console.log(\"Subtotal:  \\u20AC\".concat(subTotal,\" \"));console.log(\"You have \".concat(items.length,\" in your cart\"));},[items,subTotal,total]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm cart\",children:/*#__PURE__*/_jsx(Table,{items:items})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-3 order-summary\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group flex\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"text-left\",children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"text-right\",children:[\"\\u20AC\",subTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group flex\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"text-left\",children:\"shipping\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"text-right\",children:[\"\\u20AC\",shipping.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group flex\",children:/*#__PURE__*/_jsx(\"li\",{className:\"coupon crimson\",children:/*#__PURE__*/_jsx(\"small\",{children:\" >> Add Coupon Code\"})})})]}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item \",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group flex\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"text-left\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"text-right\",children:[\"\\u20AC\",subTotal==0.00?\"0.00\":total.toFixed(2)]})]})})]}),/*#__PURE__*/_jsx(Link,{to:\"checkout\",className:\"white btn btn-light btn-lg btn-block checkout \".concat(!items.length&&'disabled',\" bg-crimson\"),children:\"Checkout\"})]})]})})});};","map":{"version":3,"sources":["/Users/krzyzostoniak/Documents/grocery-delivery/src/app/wiews/components/CartPage.js"],"names":["React","Fragment","useEffect","useState","useDispatch","useSelector","Link","updateCart","removeFromCart","Row","props","item","id","quantity","details","qty","setQty","dispatch","update","action","remove","process","env","PUBLIC_URL","category","image","name","ref","price","toFixed","Table","items","map","CartPage","state","subTotal","setSubTotal","total","setTotal","shipping","totals","reduce","item1","item2","console","log","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from \"react-router-dom\";\nimport \"../../styles/App.css\";\nimport { updateCart, removeFromCart } from  '../../lib/actions'\n\nconst Row = (props) => {\n    const { id, quantity, details } = props.item\n    const item = details\n    const [qty, setQty] = useState(quantity);\n    const dispatch = useDispatch()\n    const update = (action) => {\n      if (action === 'increment') { setQty(qty + 1) }\n      if (action === 'decrement') { setQty(qty - 1) }\n    }\n    const remove = id => {\n      dispatch(removeFromCart(id))\n    }\n    useEffect(() => {\n      dispatch(updateCart(id, qty))\n    }, [qty])\n    return (\n      <tr>\n        <td>\n          <img\n            width=\"70\"\n            height=\"70\"\n            src={process.env.PUBLIC_URL + `/assets/${item.category}/${item.image}`}\n            alt={item.name}\n          />\n        </td>\n        <td>{item.ref}</td>\n        <td>€{item.price}</td>\n        <td>\n          <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                if (qty > 1) {update('decrement') }\n              }}\n              >\n              -\n            </button>\n            <span className=\"btn btn-light\">{qty}</span>\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={() =>  {update('increment')}}\n              >\n              +\n            </button>\n          </div>\n        </td>\n        <td>€{(quantity *  item.price).toFixed(2)}</td>\n        <td>\n          <button\n            type=\"button\"\n            className=\"btn btn-danger remove\"\n             onClick={() => remove(id)}>\n            X\n          </button>\n        </td>\n      </tr>\n    );\n}\n\nconst Table = ({ items }) => {\n    return (\n      <table>\n        <tr>\n          <th width=\"200\">Product</th>\n          <th width=\"80\">Reference</th>\n          <th width=\"150\">Price</th>\n          <th width=\"150\">Quantity</th>\n          <th width=\"200\">Total</th>\n        </tr>\n        {items.map(item => {\n          return(<Row item={item}/>)\n        })}\n      </table>\n    );\n  }\n\nexport const CartPage = () => {\n    const items = useSelector(state => state.items)\n    const [subTotal, setSubTotal] = useState(0.00)\n    const [total, setTotal] = useState(0.00)\n    const shipping = 10.00\n\n    useEffect(() => {\n      let totals = items.map(item => {\n        return item.quantity * item.details.price\n      })\n      setSubTotal(totals.reduce((item1, item2) => item1 + item2, 0))\n      setTotal(subTotal + shipping)\n      console.log(`Subtotal:  €${subTotal} `)\n      console.log(`You have ${items.length} in your cart`)\n    }, [items, subTotal, total])\n    return (\n      <Fragment>\n        <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm cart\">\n              <Table items={items}/>\n          </div>\n\n          <div className=\"col-sm-3 order-summary\">\n            <ul className=\"list-group\">\n              <li className=\"list-group-item\">Order Summary</li>\n\n              <li className=\"list-group-item\">\n                <ul className=\"list-group flex\">\n                  <li className=\"text-left\">Subtotal</li>\n                  <li className=\"text-right\">€{subTotal.toFixed(2)}</li>\n                </ul>\n                <ul className=\"list-group flex\">\n                  <li className=\"text-left\">shipping</li>\n                  <li className=\"text-right\">€{shipping.toFixed(2)}</li>\n                </ul>\n                <ul className=\"list-group flex\">\n                  <li className=\"coupon crimson\">\n                    <small> >> Add Coupon Code</small>\n                  </li>\n                </ul>\n              </li>\n\n              <li className=\"list-group-item \">\n                <ul className=\"list-group flex\">\n                  <li className=\"text-left\">Total</li>\n                    <li className=\"text-right\">€{subTotal == 0.00 ? \"0.00\" : total.toFixed(2)}</li>\n                </ul>\n              </li>\n            </ul>\n           \n              <Link to=\"checkout\" className={`white btn btn-light btn-lg btn-block checkout ${!items.length && 'disabled'} bg-crimson`}>\n\n                Checkout\n              </Link>\n          </div>\n        </div>\n        </div>\n      </Fragment>\n    );\n}"]},"metadata":{},"sourceType":"module"}